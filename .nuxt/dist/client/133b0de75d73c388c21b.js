(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{338:function(t,e,o){},407:function(t,e,o){"use strict";var n=o(338);o.n(n).a},486:function(t,e,o){"use strict";o.r(e);var n={layout:"phone",data:function(){return{status:1,phone:"",imgCode:"",password:"",imgma:"",imgToken:"",iserr:!1,errmessage:""}},methods:{login:function(){var t=this;this.iserr=!1,this.$axios.post("/signIn",{phone:this.phone,password:this.password,imgCode:this.imgma,imgToken:this.imgToken}).then(function(e){localStorage.setItem("access_token",e.data.data.access_token),console.log(e.data.data.access_token),t.$axios.post("/me",{},{headers:{Authorization:"Bearer"+e.data.data.access_token}}).then(function(t){localStorage.setItem("userdata",JSON.stringify(t.data.data))}),t.$router.push("/m/my")}).catch(function(e){t.errmessage=e.response.data.message,t.iserr=!0})},shuaxin:function(){var t=this;this.$axios("/getImgCode").then(function(e){t.imgCode=e.data.data.img_code,t.imgToken=e.data.data.img_token})},forgot:function(){this.status=2},zhuce:function(){this.status=3}},mounted:function(){var t=this;this.$axios("/getImgCode").then(function(e){t.imgCode=e.data.data.img_code,t.imgToken=e.data.data.img_token})}},r=(o(407),o(2)),component=Object(r.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login_all"},[1==t.status?o("div",[o("div",{staticClass:"mheader"},[t._v("\n            登录\n        ")]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"input_l"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"imginput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.imgma,expression:"imgma"}],attrs:{type:"text",placeholder:"图形验证码"},domProps:{value:t.imgma},on:{input:function(e){e.target.composing||(t.imgma=e.target.value)}}}),t._v(" "),o("img",{staticClass:"imgCode",attrs:{src:t.imgCode,alt:"验证码"},on:{click:t.shuaxin}}),t._v(" "),t.iserr?o("p",[t._v("失败:"+t._s(t.errmessage))]):t._e()])]),t._v(" "),o("div",{staticClass:"btn_l",on:{click:t.login}},[t._v("\n            登录\n        ")]),t._v(" "),o("div",{staticClass:"footer_login"},[o("span",{staticClass:"forgot",on:{click:t.forgot}},[t._v("忘记密码?")]),t._v(" "),o("span",{staticClass:"zhuce",on:{click:t.zhuce}},[t._v("注册账号")])])]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo_l"},[e("img",{attrs:{src:"/m/logo_m01.png",alt:"媒介兔"}})])}],!1,null,"09098430",null);e.default=component.exports}}]);