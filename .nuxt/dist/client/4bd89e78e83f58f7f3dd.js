(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{345:function(t,e,n){},409:function(t,e,n){"use strict";var c=n(345);n.n(c).a},506:function(t,e,n){"use strict";n.r(e);var c=n(7),r={layout:"salesman",data:function(){return{kefudata:"",currentPage:1,checkList:[],mealList:"",mealListItem:"",dingdanstatus:[{value:0,label:"已完成"},{value:1,label:"未完成"}],activeIndex:0}},mounted:function(){var t=this;this.kefudata=JSON.parse(localStorage.getItem("kefu")),this.$axios.post("/mealPoolList",{},{headers:{Authorization:"Bearer"+localStorage.getItem("access_token")}}).then(function(e){t.mealList=e.data.data,t.mealListItem=e.data.data.data[0]}).catch(function(e){t.$message({message:"身份过期,请重新登录",type:"warning"})})},methods:{isactive:function(a){this.activeIndex=a},allselect:function(){var t=[];if(this.mealListItem.Children.forEach(function(e){t.push(e.goods_id)}),this.checkList.length==t.length)return this.checkList=[];this.checkList=t},handleCurrentChange:function(a){var t=this;Object(c.b)().then(function(e){return t.$axios.post("/mealPoolList?page="+a,{},{headers:{Authorization:"Bearer"+e}})}).then(function(e){t.mealList=e.data.data})},creatxuqiubtn:function(){var t=this;if(""==localStorage.getItem("indent_num"))return this.$message({message:"请选择商品",type:"success"});var e={};this.checkList.forEach(function(t,n){e[n]=t}),this.$axios.post("/softArticleMealCreateDemand",{goods_id_json:JSON.stringify(e),indent_num:localStorage.getItem("indent_num")},{headers:{Authorization:"Bearer"+localStorage.getItem("access_token")}}).then(function(e){t.$message({message:e.data.message,type:"success"}),localStorage.setItem("indent_num","")}).catch(function(e){t.$message.error("失败")})}}},l=(n(409),n(2)),component=Object(l.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dingdanall"},[n("div",{staticClass:"header_c color666"},[n("span",[t._v("当前位置:软文套餐")]),n("span",{staticClass:"fr"},[t._v("客服编号:"+t._s(t.kefudata.user_num))])]),t._v(" "),n("div",{staticClass:"dingdan_c"},[t._m(0),t._v(" "),n("div",{staticStyle:{overflow:"hidden"}},[n("div",{staticClass:"c_list"},t._l(t.mealList.data,function(e,c){return n("div",{key:c,class:t.activeIndex===c?"activeclass":"",on:{click:function(n){t.checkList=[],t.mealListItem=e,t.isactive(c)}}},[t._v(t._s(e.pool_name))])}),0),t._v(" "),n("div",{staticClass:"c_listr"},t._l(t.mealListItem.Children,function(e,c){return n("div",{key:c,staticClass:"ruanwengoods"},[n("el-checkbox-group",{staticClass:"fl",staticStyle:{"margin-right":"10px"},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[n("el-checkbox",{attrs:{label:e.goods_id}})],1),t._v(" "),n("p",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(e.title))])],1)}),0),t._v(" "),n("div",{staticClass:"ruanwenbtn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.allselect}},[t._v("全选")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.creatxuqiubtn}},[t._v("创建软文套餐需求")])],1)]),t._v(" "),n("div",{staticClass:"fenye"},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":15,layout:"prev, pager, next, jumper",total:t.mealList.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"selectinput"},[e("p",[this._v("软文套餐池名称")]),this._v(" "),e("p",[this._v("软文套餐池列表")])])}],!1,null,"d87a661c",null);e.default=component.exports}}]);