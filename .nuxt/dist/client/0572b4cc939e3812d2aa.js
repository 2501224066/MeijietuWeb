(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{373:function(e,t,n){},443:function(e,t,n){"use strict";var r=n(373);n.n(r).a},479:function(e,t,n){"use strict";n.r(t);n(172);var r=n(7),c={layout:"user",data:function(){return{username:"",ispersonal:!0,truename:"",imageUrl1:"",imageUrl2:"",imageUrl3:"",IDcard:"",bank_branch:"",bank_prov:"",bank_city:"",bank_card:"",bank_band_phone:"",smsCode:"",token:"",identity_card_face:"",identity_card_back:"",business_license:"",openbank:"",enterprise_name:"",social_credit_code:"",iswait:!1,iswaitde:!1,waittime:60}},methods:{checkImgCode:function(){var e=this,t="realnameEnterprise";this.ispersonal&&(t="realnamePeople"),this.$axios.get("/smsVerifCode",{params:{phone:this.$store.state.userdata.phone,code_type:t}}).then(function(t){e.iswaitde=!0;var n=setInterval(function(){0==e.waittime&&(e.iswaitde=!1,e.waittime=60,clearInterval(n)),e.waittime-=1},1e3);e.$message({message:"发送成功,请等待",type:"success"})}).catch(function(t){e.$message.error("失败"+err.response.data.message)})},realnamePeople:function(){var e=this;return-1==this.truename.search(/^[\u0391-\uFFE5\w]+$/)?this.$message.error("请输入正确姓名"):-1==this.IDcard.search(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/)?this.$message.error("请输入正确身份证号"):-1==this.openbank.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户银行"):-1==this.bank_branch.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户支行"):-1==this.bank_prov.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户省份"):-1==this.bank_city.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户城市"):-1==this.bank_card.search(/^[0-9]*$/)?this.$message.error("请输入正确的银行卡号"):-1==this.bank_band_phone.search(/^1[3456789]\d{9}$/)?this.$message.error("绑定手机号输入错误"):(Object(r.b)().then(function(t){if(e.token=t,e.iswait)return e.$message({message:"请等待...",type:"warning"});e.iswait=!0,e.$axios.post("/realnamePeople",{truename:e.truename,identity_card_ID:e.IDcard,identity_card_face:e.identity_card_face,identity_card_back:e.identity_card_back,bank_deposit:e.openbank,bank_branch:e.bank_branch,bank_prov:e.bank_prov,bank_city:e.bank_city,bank_card:e.bank_card,bank_band_phone:e.bank_band_phone,smsCode:e.smsCode},{headers:{Authorization:"Bearer"+t}}).then(function(t){e.$message({message:"认证成功",type:"success"}),e.$router.push("/user/4-5"),e.iswait=!1}).catch(function(t){e.$message.error("失败:"+t.response.data.message),e.iswait=!1})}),void setTimeout(function(){e.iswait=!1},3e3))},realnameEnterprise:function(){var e=this;return-1==this.enterprise_name.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的企业名称"):-1==this.openbank.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户银行"):-1==this.bank_branch.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户支行"):-1==this.bank_prov.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户省份"):-1==this.bank_city.search(/^[\u4e00-\u9fa5]+$/)?this.$message.error("请输入正确的开户城市"):-1==this.bank_card.search(/^[0-9]*$/)?this.$message.error("请输入正确的银行卡号"):-1==this.bank_band_phone.search(/^1[3456789]\d{9}$/)?this.$message.error("绑定手机号输入错误"):void Object(r.b)().then(function(t){if(e.token=t,e.iswait)return e.$message({message:"请等待...",type:"warning"});e.iswait=!0,e.$axios.post("/realnameEnterprise",{enterprise_name:e.enterprise_name,social_credit_code:e.social_credit_code,business_license:e.business_license,bank_deposit:e.openbank,bank_prov:e.bank_prov,bank_city:e.bank_city,bank_branch:e.bank_branch,bank_card:e.bank_card,bank_band_phone:e.bank_band_phone,smsCode:e.smsCode},{headers:{Authorization:"Bearer"+t}}).then(function(t){e.$message({message:t.data.message,type:"success"}),e.$router.push("/user/4-5"),e.iswait=!1}).catch(function(t){e.$message.error("失败:"+t.response.data.message),e.iswait=!1})})},handleAvatarSuccess1:function(e,t){this.imageUrl1=URL.createObjectURL(t.raw),this.identity_card_face=e.data.path},handleAvatarSuccess2:function(e,t){this.imageUrl2=URL.createObjectURL(t.raw),this.identity_card_back=e.data.path},handleAvatarSuccess3:function(e,t){this.imageUrl3=URL.createObjectURL(t.raw),this.business_license=e.data.path},beforeAvatarUpload:function(e){e.type,e.size;return!0}},mounted:function(){var e=this;Object(r.b)().then(function(t){e.token=t})}},l=(n(443),n(2)),component=Object(l.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"certification"},[n("div",{staticClass:"certiheader"},[n("div",{class:{actived:e.ispersonal,hand:!0},on:{click:function(t){e.ispersonal=!0}}},[e._v("个人实名认证")]),e._v(" "),n("div",{class:{actived:!e.ispersonal,hand:!0},on:{click:function(t){e.ispersonal=!1}}},[e._v("企业实名认证")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.ispersonal,expression:"ispersonal"}],staticClass:"userCertification"},[n("div",[n("div",{staticClass:"contentleft"},[e._v("真实姓名 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"6",placeholder:"请输入真实姓名"},model:{value:e.truename,callback:function(t){e.truename=t},expression:"truename"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("身份证号 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"20",placeholder:"请输入身份证号"},model:{value:e.IDcard,callback:function(t){e.IDcard=t},expression:"IDcard"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("身份证正面 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.imgcodehost+"/uploadImg",headers:{Authorization:"Bearer"+e.token},data:{upload_type:"ID_card"},name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess1,"before-upload":e.beforeAvatarUpload}},[e.imageUrl1?n("img",{staticClass:"avatar",attrs:{src:e.imageUrl1}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("身份证反面 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.imgcodehost+"/uploadImg",headers:{Authorization:"Bearer"+e.token},data:{upload_type:"ID_card"},"show-file-list":!1,name:"image","on-success":e.handleAvatarSuccess2,"before-upload":e.beforeAvatarUpload}},[e.imageUrl2?n("img",{staticClass:"avatar",attrs:{src:e.imageUrl2}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("开户银行 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"15",placeholder:"请输入开户银行名称"},model:{value:e.openbank,callback:function(t){e.openbank=t},expression:"openbank"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("开户支行 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"30",placeholder:"请输入开户支行名称"},model:{value:e.bank_branch,callback:function(t){e.bank_branch=t},expression:"bank_branch"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("开户地区 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入开户省份"},model:{value:e.bank_prov,callback:function(t){e.bank_prov=t},expression:"bank_prov"}}),e._v("省\n        "),n("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入开户市区"},model:{value:e.bank_city,callback:function(t){e.bank_city=t},expression:"bank_city"}}),e._v("市\n      ")],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("银行卡号 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"30",placeholder:"请输入开户支行名称"},model:{value:e.bank_card,callback:function(t){e.bank_card=t},expression:"bank_card"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("绑定手机 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"15",placeholder:"请输入开户支行名称"},model:{value:e.bank_band_phone,callback:function(t){e.bank_band_phone=t},expression:"bank_band_phone"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("短信验证码 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}}),e._v(" "),n("el-button",{attrs:{disabled:e.iswaitde},on:{click:e.checkImgCode}},[e._v(e._s(e.iswaitde?"等待"+e.waittime+"s":"发送验证码"))])],1)]),e._v(" "),n("div",{staticClass:"certifooter"},[n("el-button",{staticStyle:{margin:"0 71px 0 215px",width:"108px"},attrs:{type:"primary"},on:{click:e.realnamePeople}},[e._v("保存")])],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.ispersonal,expression:"!ispersonal"}],staticClass:"enterCertification"},[n("div",[n("div",{staticClass:"contentleft"},[e._v("企业名称 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"20",placeholder:"请输入真实姓名"},model:{value:e.enterprise_name,callback:function(t){e.enterprise_name=t},expression:"enterprise_name"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("统一社会信用代码 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{placeholder:"请输入身份证号"},model:{value:e.social_credit_code,callback:function(t){e.social_credit_code=t},expression:"social_credit_code"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("企业营业执照 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.imgcodehost+"/uploadImg",headers:{Authorization:"Bearer"+e.token},data:{upload_type:"business_license"},name:"image","show-file-list":!1,"on-success":e.handleAvatarSuccess3,"before-upload":e.beforeAvatarUpload}},[e.imageUrl3?n("img",{staticClass:"avatar",attrs:{src:e.imageUrl3}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("开户银行 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"15",placeholder:"请输入开户银行行名称"},model:{value:e.openbank,callback:function(t){e.openbank=t},expression:"openbank"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("开户支行 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"30",placeholder:"请输入开户支行名称"},model:{value:e.bank_branch,callback:function(t){e.bank_branch=t},expression:"bank_branch"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("开户地区 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入开户省份"},model:{value:e.bank_prov,callback:function(t){e.bank_prov=t},expression:"bank_prov"}}),e._v("省\n        "),n("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入开户市区"},model:{value:e.bank_city,callback:function(t){e.bank_city=t},expression:"bank_city"}}),e._v("市\n      ")],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("银行卡号 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"30",placeholder:"请输入开户支行名称"},model:{value:e.bank_card,callback:function(t){e.bank_card=t},expression:"bank_card"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("绑定手机 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{maxlength:"15",placeholder:"请输入开户支行名称"},model:{value:e.bank_band_phone,callback:function(t){e.bank_band_phone=t},expression:"bank_band_phone"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"contentleft"},[e._v("短信验证码 :")]),e._v(" "),n("div",{staticClass:"contentright smallsize"},[n("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}}),e._v(" "),n("el-button",{attrs:{disabled:e.iswaitde},on:{click:e.checkImgCode}},[e._v(e._s(e.iswaitde?"等待"+e.waittime+"s":"发送验证码"))])],1)]),e._v(" "),n("div",[n("el-button",{staticStyle:{margin:"0 71px 0 215px",width:"108px"},attrs:{type:"primary"},on:{click:e.realnameEnterprise}},[e._v("保存")])],1)])])},[],!1,null,"1073fa29",null);t.default=component.exports}}]);