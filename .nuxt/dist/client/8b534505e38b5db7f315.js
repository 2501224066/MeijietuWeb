(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{351:function(t,e,n){"use strict";n(352)("link",function(t){return function(e){return t(this,"a","href",e)}})},352:function(t,e,n){var r=n(11),c=n(12),o=n(28),d=/"/g,l=function(t,e,n,r){var c=String(o(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+String(r).replace(d,"&quot;")+'"'),l+">"+c+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(l),r(r.P+r.F*c(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},366:function(t,e,n){},424:function(t,e,n){"use strict";var r=n(366);n.n(r).a},447:function(t,e,n){"use strict";n.r(e);n(351);var r=n(7),c={layout:"user",data:function(){return{checked:!1,checkList:[],xuqiudata:"",finshOder:!1,demand_num:"",link:"",currentPage:1}},mounted:function(){var t=this;this.$axios.post("/demandBelongSelf",{},{headers:{Authorization:"Bearer"+localStorage.getItem("access_token")}}).then(function(e){t.xuqiudata=e.data.data}).catch(function(e){"Token has expired"==e.response.data.message&&Object(r.a)().then(function(e){return t.$axios.post("/newsBelongSelf",{},{headers:{Authorization:"Bearer"+e}})}).then(function(e){t.xuqiudata=e.data.data}).catch(function(e){t.$message.error("身份验证失效")})})},methods:{downword:function(a){window.open(this.$store.state.header_img+a)},finshOdertrue:function(){var t=this;this.finshOder=!1,Object(r.a)().then(function(e){return t.$axios.post("/completeDemand",{demand_num:t.demand_num,back_link:t.link},{headers:{Authorization:"Bearer"+e}})}).then(function(e){t.$message({message:"提交成功,等待审核",type:"success"})}).catch(function(e){t.$message.error("失败")})},acceptDemand:function(a){var t=this;Object(r.a)().then(function(e){return t.$axios.post("/acceptDemand",{demand_num:a},{headers:{Authorization:"Bearer"+e}})}).then(function(e){t.$message({message:"接受订单成功",type:"success"})}).catch(function(e){t.$message.error("失败")})},refuseDemand:function(a){var t=this;Object(r.a)().then(function(e){return t.$axios.post("/acceptDemand",{demand_num:a},{headers:{Authorization:"Bearer"+e}})}).then(function(e){t.$message({message:"拒绝订单成功",type:"success"})}).catch(function(e){t.$message.error("失败")})},handleCurrentChange:function(a){var t=this;Object(r.a)().then(function(e){return t.$axios.post("/demandBelongSelf?page="+a,{},{headers:{Authorization:"Bearer"+localStorage.getItem("access_token")}})}).then(function(e){t.xuqiudata=e.data.data})}}},o=(n(424),n(2)),component=Object(o.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"usercontent"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._l(t.xuqiudata.data,function(e,r){return n("div",{key:r,staticClass:"userc_c com"},[n("div",[t._v(t._s(e.created_at))]),t._v(" "),n("div",[t._v(t._s(e.title))]),t._v(" "),n("div",[n("p",{staticClass:"cr blue",on:{click:function(n){return t.downword(e.word)}}},[t._v("下载需求文档")])]),t._v(" "),1==e.status?n("div",{staticClass:"isaccept"},[n("p",{on:{click:function(n){return t.acceptDemand(e.demand_num)}}},[t._v("接受订单")]),t._v(" "),n("p",{on:{click:function(n){return t.refuseDemand(e.demand_num)}}},[t._v("拒绝订单")])]):t._e(),t._v(" "),4==e.status?n("div",{staticClass:"needword"},[n("p",{on:{click:function(n){t.finshOder=!0,t.demand_num=e.demand_num}}},[t._v("完成订单")])]):t._e(),t._v(" "),5==e.status?n("div",[n("p",[t._v("等待结算")])]):t._e(),t._v(" "),2==e.status?n("div",[n("p",[t._v("失效订单")])]):t._e()])}),t._v(" "),n("div",{staticClass:"fenye"},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":15,layout:"prev, pager, next, jumper",total:this.xuqiudata.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1),t._v(" "),n("el-dialog",{attrs:{title:"提交完成链接地址",visible:t.finshOder,width:"30%"},on:{"update:visible":function(e){t.finshOder=e}}},[n("el-input",{attrs:{placeholder:"请输入完成链接"},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.finshOdertrue}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:function(e){t.finshOder=!1}}},[t._v("取 消")])],1)],1)],2)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"usercontentheader"},[e("div",{staticClass:"actived"},[this._v("我的需求")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"userc_titel com"},[e("div",[this._v("创建时间")]),this._v(" "),e("div",[this._v("软文名称")]),this._v(" "),e("div",[this._v("文档下载")]),this._v(" "),e("div",[this._v("操作")])])}],!1,null,"28321828",null);e.default=component.exports}}]);