(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{338:function(e,t,o){},409:function(e,t,o){"use strict";var n=o(338);o.n(n).a},490:function(e,t,o){"use strict";o.r(t);o(7);var n={layout:"phone",data:function(){return{status:1,phone:"",imgCode:"",password:"",imgma:"",imgToken:"",iserr:!1,errmessage:"",phone_f:"",imgcode_f:"",iswait_f:!1,nextToken:"",phonecode_f:"",iswait_z:!1,phone_z:"",imgcode_z:"",phonecode_z:"",selectRole:1,password_z:"",password_zt:"",email:"",nickname:""}},methods:{fanhui:function(){this.status=1},login:function(){var e=this;this.iserr=!1,this.$axios.post("/signIn",{phone:this.phone,password:this.password,imgCode:this.imgma,imgToken:this.imgToken}).then(function(t){localStorage.setItem("access_token",t.data.data.access_token),e.$router.push("/m/my")}).catch(function(t){e.errmessage=t.response.data.message,e.iserr=!0})},shuaxin:function(){var e=this;this.$axios("/getImgCode").then(function(t){e.imgCode=t.data.data.img_code,e.imgToken=t.data.data.img_token})},forgot:function(){this.status=2},zhuce:function(){this.status=3},getPhoneCode:function(){var e=this;this.iswait_f||(""!=this.phone_f&&""!=this.imgcode_f||this.$message.error("手机号和验证码不得为空"),this.$axios("/checkImgCode",{params:{imgToken:this.imgToken,imgCode:this.imgcode_f}}).then(function(e){}).catch(function(t){return e.$message.error("验证码输入错误")}),this.$axios("/smsVerifCode",{params:{phone:this.phone_f,code_type:"resetPass"}}).then(function(t){e.$message({message:"短信发送成功,请等待",type:"success"}),e.iswait_f=!0}).catch(function(t){e.$message.error("失败:"+t.response.data.message)}))},login_f:function(){var e=this;this.$axios.post("/checkPhone",{phone:this.phone_f,smsCode:this.phonecode_f,type:2}).then(function(t){e.nextToken=t.data.data.nextToken,e.status=4}).catch(function(t){e.$message.error("失败:"+t.response.data.message)})},getPhoneCode_z:function(){var e=this;this.iswait_z||(""!=this.phone_z&&""!=this.imgcode_z||this.$message.error("手机号和验证码不得为空"),this.$axios("/checkImgCode",{params:{imgToken:this.imgToken,imgCode:this.imgcode_z}}).then(function(e){}).catch(function(t){return e.$message.error("验证码输入错误")}),this.$axios("/smsVerifCode",{params:{phone:this.phone_z,code_type:"resetPass"}}).then(function(t){e.$message({message:"短信发送成功,请等待",type:"success"}),e.iswait_z=!0}).catch(function(t){e.$message.error("失败:"+t.response.data.message)}))},login_z:function(){var e=this;this.selectRole,this.$axios.post("/register",{email:this.email,password:this.password_z,password_confirmation:this.password_zt,nickname:this.nickname,nextToken:this.nextToken,phone:this.phone_z,identity:this.radio,salesman_id:"",agent_domain:"http://"+document.domain}).then(function(t){e.$message({message:"注册成功",type:"success"}),setTimeout(function(){e.$router.push("/login")},1e3)}).catch(function(t){e.text=t.response.data.message,e.dialogVisible=!0,e.waitfinsh=!1})}},mounted:function(){var e=this;this.$axios("/getImgCode").then(function(t){e.imgCode=t.data.data.img_code,e.imgToken=t.data.data.img_token})}},r=(o(409),o(2)),component=Object(r.a)(n,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_all"},[1==e.status?o("div",[o("div",{staticClass:"mheader"},[e._v("\n            登录\n        ")]),e._v(" "),e._m(0),e._v(" "),o("div",{staticClass:"input_l"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"imginput"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.imgma,expression:"imgma"}],attrs:{type:"text",placeholder:"图形验证码"},domProps:{value:e.imgma},on:{input:function(t){t.target.composing||(e.imgma=t.target.value)}}}),e._v(" "),o("img",{staticClass:"imgCode",attrs:{src:e.imgCode,alt:"验证码"},on:{click:e.shuaxin}}),e._v(" "),e.iserr?o("p",[e._v("失败:"+e._s(e.errmessage))]):e._e()])]),e._v(" "),o("div",{staticClass:"btn_l",on:{click:e.login}},[e._v("\n            登录\n        ")]),e._v(" "),o("div",{staticClass:"footer_login"},[o("span",{staticClass:"forgot",on:{click:e.forgot}},[e._v("忘记密码?")]),e._v(" "),o("span",{staticClass:"zhuce",on:{click:e.zhuce}},[e._v("注册账号")])])]):e._e(),e._v(" "),2==e.status?o("div",[o("div",{staticClass:"mheader"},[o("span",{staticClass:"el-icon-arrow-left mfanhui",on:{click:e.fanhui}}),e._v("忘记密码")]),e._v(" "),o("div",{staticClass:"input_l",staticStyle:{"margin-top":"50px"}},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone_f,expression:"phone_f"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.phone_f},on:{input:function(t){t.target.composing||(e.phone_f=t.target.value)}}})]),e._v(" "),o("div",{staticStyle:{position:"relative"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.imgcode_f,expression:"imgcode_f"}],attrs:{type:"text",placeholder:"图形验证码"},domProps:{value:e.imgcode_f},on:{input:function(t){t.target.composing||(e.imgcode_f=t.target.value)}}}),e._v(" "),o("img",{staticClass:"imgCode",attrs:{src:e.imgCode,alt:"验证码"},on:{click:e.shuaxin}})]),e._v(" "),o("div",{staticStyle:{position:"relative"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phonecode_f,expression:"phonecode_f"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.phonecode_f},on:{input:function(t){t.target.composing||(e.phonecode_f=t.target.value)}}}),e._v(" "),o("div",{staticClass:"btnCode",style:e.iswait_f?"background-color:#c8c9cc":"",on:{click:e.getPhoneCode}},[e._v("获取验证码")])])]),e._v(" "),o("div",{staticClass:"btn_l",on:{click:e.login_f}},[e._v("\n            确定\n        ")])]):e._e(),e._v(" "),3==e.status?o("div",{staticStyle:{"margin-bottom":"50px","padding-bottom":"20px"}},[o("div",{staticClass:"mheader"},[o("span",{staticClass:"el-icon-arrow-left mfanhui",on:{click:e.fanhui}}),e._v("注册")]),e._v(" "),o("div",{staticClass:"selectRole"},[o("div",{class:1==e.selectRole?"select_z":"",on:{click:function(t){e.selectRole=1}}},[e._v("广告主")]),e._v(" "),o("div",{class:2==e.selectRole?"select_z":"",on:{click:function(t){e.selectRole=2}}},[e._v("媒体主")])]),e._v(" "),o("div",{staticClass:"input_l"},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phone_z,expression:"phone_z"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:e.phone_z},on:{input:function(t){t.target.composing||(e.phone_z=t.target.value)}}})]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password_z,expression:"password_z"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password_z},on:{input:function(t){t.target.composing||(e.password_z=t.target.value)}}})]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password_zt,expression:"password_zt"}],attrs:{type:"password",placeholder:"请再次输入密码"},domProps:{value:e.password_zt},on:{input:function(t){t.target.composing||(e.password_zt=t.target.value)}}})]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],attrs:{type:"password",placeholder:"请输入昵称"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"password",placeholder:"请输入邮箱"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),o("div",{staticStyle:{position:"relative"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.imgcode_z,expression:"imgcode_z"}],attrs:{type:"text",placeholder:"图形验证码"},domProps:{value:e.imgcode_z},on:{input:function(t){t.target.composing||(e.imgcode_z=t.target.value)}}}),e._v(" "),o("img",{staticClass:"imgCode",attrs:{src:e.imgCode,alt:"验证码"},on:{click:e.shuaxin}})]),e._v(" "),o("div",{staticStyle:{position:"relative"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.phonecode_z,expression:"phonecode_z"}],attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.phonecode_z},on:{input:function(t){t.target.composing||(e.phonecode_z=t.target.value)}}}),e._v(" "),o("div",{staticClass:"btnCode",style:e.iswait_z?"background-color:#c8c9cc":"",on:{click:e.getPhoneCode_z}},[e._v("获取验证码")])])]),e._v(" "),o("div",{staticClass:"btn_l",on:{click:e.login_z}},[e._v("\n            立即注册\n        ")])]):e._e(),e._v(" "),4==e.status?o("div",[o("div",{staticClass:"mheader"},[o("span",{staticClass:"el-icon-arrow-left mfanhui",on:{click:e.fanhui}}),e._v("重置密码")]),e._v(" "),o("div",{staticClass:"input_l",staticStyle:{"margin-top":"50px"}},[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password_f,expression:"password_f"}],attrs:{type:"text",placeholder:"请输入密码"},domProps:{value:e.password_f},on:{input:function(t){t.target.composing||(e.password_f=t.target.value)}}})]),e._v(" "),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password_ft,expression:"password_ft"}],attrs:{type:"text",placeholder:"请再次输入密码"},domProps:{value:e.password_ft},on:{input:function(t){t.target.composing||(e.password_ft=t.target.value)}}})])])]):e._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo_l"},[t("img",{attrs:{src:"/m/logo_m01.png",alt:"媒介兔"}})])}],!1,null,"0966ed54",null);t.default=component.exports}}]);